{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HitCanvas = exports.SceneCanvas = exports.Canvas = void 0;\nconst Util_1 = require(\"./Util\");\nconst Context_1 = require(\"./Context\");\nconst Global_1 = require(\"./Global\");\nconst Factory_1 = require(\"./Factory\");\nconst Validators_1 = require(\"./Validators\");\nvar _pixelRatio;\nfunction getDevicePixelRatio() {\n  if (_pixelRatio) {\n    return _pixelRatio;\n  }\n  var canvas = Util_1.Util.createCanvasElement();\n  var context = canvas.getContext('2d');\n  _pixelRatio = function () {\n    var devicePixelRatio = Global_1.Konva._global.devicePixelRatio || 1,\n      backingStoreRatio = context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio || context.backingStorePixelRatio || 1;\n    return devicePixelRatio / backingStoreRatio;\n  }();\n  Util_1.Util.releaseCanvas(canvas);\n  return _pixelRatio;\n}\nclass Canvas {\n  constructor(config) {\n    this.pixelRatio = 1;\n    this.width = 0;\n    this.height = 0;\n    this.isCache = false;\n    var conf = config || {};\n    var pixelRatio = conf.pixelRatio || Global_1.Konva.pixelRatio || getDevicePixelRatio();\n    this.pixelRatio = pixelRatio;\n    this._canvas = Util_1.Util.createCanvasElement();\n    this._canvas.style.padding = '0';\n    this._canvas.style.margin = '0';\n    this._canvas.style.border = '0';\n    this._canvas.style.background = 'transparent';\n    this._canvas.style.position = 'absolute';\n    this._canvas.style.top = '0';\n    this._canvas.style.left = '0';\n  }\n  getContext() {\n    return this.context;\n  }\n  getPixelRatio() {\n    return this.pixelRatio;\n  }\n  setPixelRatio(pixelRatio) {\n    var previousRatio = this.pixelRatio;\n    this.pixelRatio = pixelRatio;\n    this.setSize(this.getWidth() / previousRatio, this.getHeight() / previousRatio);\n  }\n  setWidth(width) {\n    this.width = this._canvas.width = width * this.pixelRatio;\n    this._canvas.style.width = width + 'px';\n    var pixelRatio = this.pixelRatio,\n      _context = this.getContext()._context;\n    _context.scale(pixelRatio, pixelRatio);\n  }\n  setHeight(height) {\n    this.height = this._canvas.height = height * this.pixelRatio;\n    this._canvas.style.height = height + 'px';\n    var pixelRatio = this.pixelRatio,\n      _context = this.getContext()._context;\n    _context.scale(pixelRatio, pixelRatio);\n  }\n  getWidth() {\n    return this.width;\n  }\n  getHeight() {\n    return this.height;\n  }\n  setSize(width, height) {\n    this.setWidth(width || 0);\n    this.setHeight(height || 0);\n  }\n  toDataURL(mimeType, quality) {\n    try {\n      return this._canvas.toDataURL(mimeType, quality);\n    } catch (e) {\n      try {\n        return this._canvas.toDataURL();\n      } catch (err) {\n        Util_1.Util.error('Unable to get data URL. ' + err.message + ' For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html.');\n        return '';\n      }\n    }\n  }\n}\nexports.Canvas = Canvas;\nFactory_1.Factory.addGetterSetter(Canvas, 'pixelRatio', undefined, (0, Validators_1.getNumberValidator)());\nclass SceneCanvas extends Canvas {\n  constructor(config = {\n    width: 0,\n    height: 0,\n    willReadFrequently: false\n  }) {\n    super(config);\n    this.context = new Context_1.SceneContext(this, {\n      willReadFrequently: config.willReadFrequently\n    });\n    this.setSize(config.width, config.height);\n  }\n}\nexports.SceneCanvas = SceneCanvas;\nclass HitCanvas extends Canvas {\n  constructor(config = {\n    width: 0,\n    height: 0\n  }) {\n    super(config);\n    this.hitCanvas = true;\n    this.context = new Context_1.HitContext(this);\n    this.setSize(config.width, config.height);\n  }\n}\nexports.HitCanvas = HitCanvas;","map":{"version":3,"names":["Object","defineProperty","exports","value","HitCanvas","SceneCanvas","Canvas","Util_1","require","Context_1","Global_1","Factory_1","Validators_1","_pixelRatio","getDevicePixelRatio","canvas","Util","createCanvasElement","context","getContext","devicePixelRatio","Konva","_global","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","releaseCanvas","constructor","config","pixelRatio","width","height","isCache","conf","_canvas","style","padding","margin","border","background","position","top","left","getPixelRatio","setPixelRatio","previousRatio","setSize","getWidth","getHeight","setWidth","_context","scale","setHeight","toDataURL","mimeType","quality","e","err","error","message","Factory","addGetterSetter","undefined","getNumberValidator","willReadFrequently","SceneContext","hitCanvas","HitContext"],"sources":["C:/save load/paint/front end/paintVue/node_modules/konva/lib/Canvas.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.HitCanvas = exports.SceneCanvas = exports.Canvas = void 0;\r\nconst Util_1 = require(\"./Util\");\r\nconst Context_1 = require(\"./Context\");\r\nconst Global_1 = require(\"./Global\");\r\nconst Factory_1 = require(\"./Factory\");\r\nconst Validators_1 = require(\"./Validators\");\r\nvar _pixelRatio;\r\nfunction getDevicePixelRatio() {\r\n    if (_pixelRatio) {\r\n        return _pixelRatio;\r\n    }\r\n    var canvas = Util_1.Util.createCanvasElement();\r\n    var context = canvas.getContext('2d');\r\n    _pixelRatio = (function () {\r\n        var devicePixelRatio = Global_1.Konva._global.devicePixelRatio || 1, backingStoreRatio = context.webkitBackingStorePixelRatio ||\r\n            context.mozBackingStorePixelRatio ||\r\n            context.msBackingStorePixelRatio ||\r\n            context.oBackingStorePixelRatio ||\r\n            context.backingStorePixelRatio ||\r\n            1;\r\n        return devicePixelRatio / backingStoreRatio;\r\n    })();\r\n    Util_1.Util.releaseCanvas(canvas);\r\n    return _pixelRatio;\r\n}\r\nclass Canvas {\r\n    constructor(config) {\r\n        this.pixelRatio = 1;\r\n        this.width = 0;\r\n        this.height = 0;\r\n        this.isCache = false;\r\n        var conf = config || {};\r\n        var pixelRatio = conf.pixelRatio || Global_1.Konva.pixelRatio || getDevicePixelRatio();\r\n        this.pixelRatio = pixelRatio;\r\n        this._canvas = Util_1.Util.createCanvasElement();\r\n        this._canvas.style.padding = '0';\r\n        this._canvas.style.margin = '0';\r\n        this._canvas.style.border = '0';\r\n        this._canvas.style.background = 'transparent';\r\n        this._canvas.style.position = 'absolute';\r\n        this._canvas.style.top = '0';\r\n        this._canvas.style.left = '0';\r\n    }\r\n    getContext() {\r\n        return this.context;\r\n    }\r\n    getPixelRatio() {\r\n        return this.pixelRatio;\r\n    }\r\n    setPixelRatio(pixelRatio) {\r\n        var previousRatio = this.pixelRatio;\r\n        this.pixelRatio = pixelRatio;\r\n        this.setSize(this.getWidth() / previousRatio, this.getHeight() / previousRatio);\r\n    }\r\n    setWidth(width) {\r\n        this.width = this._canvas.width = width * this.pixelRatio;\r\n        this._canvas.style.width = width + 'px';\r\n        var pixelRatio = this.pixelRatio, _context = this.getContext()._context;\r\n        _context.scale(pixelRatio, pixelRatio);\r\n    }\r\n    setHeight(height) {\r\n        this.height = this._canvas.height = height * this.pixelRatio;\r\n        this._canvas.style.height = height + 'px';\r\n        var pixelRatio = this.pixelRatio, _context = this.getContext()._context;\r\n        _context.scale(pixelRatio, pixelRatio);\r\n    }\r\n    getWidth() {\r\n        return this.width;\r\n    }\r\n    getHeight() {\r\n        return this.height;\r\n    }\r\n    setSize(width, height) {\r\n        this.setWidth(width || 0);\r\n        this.setHeight(height || 0);\r\n    }\r\n    toDataURL(mimeType, quality) {\r\n        try {\r\n            return this._canvas.toDataURL(mimeType, quality);\r\n        }\r\n        catch (e) {\r\n            try {\r\n                return this._canvas.toDataURL();\r\n            }\r\n            catch (err) {\r\n                Util_1.Util.error('Unable to get data URL. ' +\r\n                    err.message +\r\n                    ' For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html.');\r\n                return '';\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.Canvas = Canvas;\r\nFactory_1.Factory.addGetterSetter(Canvas, 'pixelRatio', undefined, (0, Validators_1.getNumberValidator)());\r\nclass SceneCanvas extends Canvas {\r\n    constructor(config = { width: 0, height: 0, willReadFrequently: false }) {\r\n        super(config);\r\n        this.context = new Context_1.SceneContext(this, {\r\n            willReadFrequently: config.willReadFrequently,\r\n        });\r\n        this.setSize(config.width, config.height);\r\n    }\r\n}\r\nexports.SceneCanvas = SceneCanvas;\r\nclass HitCanvas extends Canvas {\r\n    constructor(config = { width: 0, height: 0 }) {\r\n        super(config);\r\n        this.hitCanvas = true;\r\n        this.context = new Context_1.HitContext(this);\r\n        this.setSize(config.width, config.height);\r\n    }\r\n}\r\nexports.HitCanvas = HitCanvas;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}